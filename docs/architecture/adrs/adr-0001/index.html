<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://spike.ist/main.css">
    <link rel="icon" href="https://spike.ist/assets/spike-favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>  | ADR-0001: Display Secrets in Plain Text in SPIKE Pilot Admin CLI </title>
</head>
<body>

<script>
        fetch('https://api.github.com/repos/spiffe/spike/releases/latest')
            .then((response) => {
                return response.json();
            })
            .then((data) => {
                let release_name = data.name;
                let html_url = data.html_url;
                release.innerHTML = `<a href='${html_url}'>${release_name}</a>`;
            });
    </script>
<main>
    
    <nav>
            <h1><a href="https:&#x2F;&#x2F;spike.ist&#x2F;"></a></h1>
            <div id="release"></div>
            <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="getting-started"
                           />
                    <label class="tree-toggle-label"
                           for="getting-started">Getting Started</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://spike.ist/getting-started/guide/">Quickstart</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/getting-started/alpha-release-notice/">Alpha Release Notice</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/getting-started/configuration/">Configuring SPIKE</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="community"
                           />
                    <label class="tree-toggle-label"
                           for="community">Community</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://spike.ist/community/hello/">Hello Universe</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/community/contact/">Contact Us</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/community/presentations/">Presentations and Demos</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="spike-architecture"
                           checked/>
                    <label class="tree-toggle-label"
                           for="spike-architecture">SPIKE Architecture</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://spike.ist/architecture/system-overview/">System Overview</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/architecture/security-model/">SPIKE Security Model</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/architecture/architectural-decision-records/">ADRs</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="tracking"
                           />
                    <label class="tree-toggle-label"
                           for="tracking">Tracking</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://spike.ist/tracking/changelog/">Changelog</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/tracking/snapshots/">Documentation Snapshots</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="operations"
                           />
                    <label class="tree-toggle-label"
                           for="operations">Operations</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://spike.ist/operations/build/">SPIKE Cross-Platform Build</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/operations/production/">SPIKE Production Setup</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/operations/recovery/">SPIKE Recovery Procedures</a>
                            </li>

                            <li >
                                <a href="https://spike.ist/operations/release/">SPIKE Relase Management</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>



        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <p style="background:#ffffff;text-align:center;padding:1em;
max-width: 800px;margin: 0 auto;
border-radius: 6px;margin-bottom: -0.5em;
padding-bottom: 1.5em;
box-shadow: rgba(0, 0, 0, 0.2) 0px 18px 50px -10px;
">
            Pssst... <a href="https://github.com/spiffe/spike"
        style="border-bottom: 2px solid #07bdd9"
        ><strong>‚≠êÔ∏è
            Star SPIKE on GitHub ‚≠êÔ∏è</strong></a>.<br>
            Spread the word about this amazing technology üê¢‚ö°Ô∏è.
        </p>


        <div id="wrap">
             
        <p><a href="/docs-src/public" title="Back to home"><img src="/docs/assetsssets/spike-banner.png"
                                                                style="float:left;margin: 0 1em 0 1em;" alt="SPIKE Logo" /></a></p>
<h1 id="adr-0001-display-secrets-in-plain-text-in-spike-pilot-admin-cli">ADR-0001: Display Secrets in Plain Text in SPIKE Pilot Admin CLI</h1>
<br style="clear:both" />
<ul>
<li>Status: accepted</li>
<li>Date: 2024-10-28</li>
<li>Tags: Security, Operations, Convenience</li>
</ul>
<h2 id="context-and-problem-statement">Context and Problem Statement</h2>
<p>The SPIKE Pilot admin interface needs to provide access to secrets for
administrative purposes. We need to determine the most secure and practical way
to display these secrets while maintaining system security and operational
efficiency.</p>
<h2 id="decision-drivers">Decision Drivers</h2>
<ul>
<li>Security of sensitive information</li>
<li>Operational efficiency for administrators</li>
<li>Prevention of workarounds that could increase attack surface</li>
<li>Auditability of secret access</li>
<li>User experience for administrators</li>
</ul>
<h2 id="considered-options">Considered Options</h2>
<ol>
<li>Display secrets in plain text</li>
<li>Display only encrypted secrets</li>
<li>Never display secrets through admin interface</li>
</ol>
<h2 id="decision">Decision</h2>
<p>Display secrets in plain text in the SPIKE Pilot admin CLI, while providing
additional interfaces to view only keys or metadata when full secret values
aren‚Äôt needed.</p>
<h2 id="rationale">Rationale</h2>
<ul>
<li>Administrators who can write and delete secrets should logically be able to
view them.</li>
<li>Encrypting displayed secrets provides false security since:
<ul>
<li>Admins with access likely have decryption keys anyway</li>
<li>It only adds inconvenience without meaningful security benefits</li>
</ul>
</li>
<li>Preventing secret viewing would likely lead to:
<ul>
<li>Creation of throwaway secret consumer apps</li>
<li>Increased attack surface through workarounds</li>
</ul>
</li>
<li>Existing security measures provide adequate protection:
<ul>
<li>mTLS for secret fetching</li>
<li>Short-lived sessions</li>
<li>Audit logging through SPIKE Nexus</li>
<li>Authentication and authorization checks</li>
</ul>
</li>
</ul>
<h2 id="consequences">Consequences</h2>
<h3 id="positive">Positive</h3>
<ul>
<li>Simplified admin operations</li>
<li>Reduced likelihood of workarounds</li>
<li>Clear audit trail of secret access</li>
<li>Consistent with principle of least surprise</li>
</ul>
<h3 id="negative">Negative</h3>
<ul>
<li>Potential for secrets to appear in logs or command history</li>
<li>Increased responsibility on admin access control</li>
</ul>
<h2 id="implementation-notes">Implementation Notes</h2>
<ul>
<li>Implement separate interfaces for:
<ul>
<li>Full secret display</li>
<li>Keys-only view</li>
<li>Metadata-only view</li>
</ul>
</li>
<li>Ensure proper audit logging of all secret access</li>
<li>Document proper terminal/session management for admins</li>
</ul>
<hr />
<ul>
<li><a href="https://spike.ist/architecture/adrs/adr-0017/">ADR-0017: Synchronous Persistence for SPIKE Secrets Store</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0016/">ADR-0016: Memory-First Secrets Store</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0015/">ADR-0015: Use Singular Form for File and Package Naming</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0014/">ADR-0014: Maintaining SQLite as SPIKE‚Äôs Primary Storage Backend</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0013/">ADR-0013: S3-Compatible Storage as SPIKE‚Äôs Backing Store</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0012/">ADR-0012: HTTP Methods for SPIKE API</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0011/">ADR-0011: PostgreSQL as SPIKE‚Äôs Backing Store</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0010/">ADR-0010: Session Token Storage Strategy for SPIKE Nexus</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0009/">ADR-0009: Multi-Administrator Support System</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0008/">ADR-0008: Administrative Access Control System</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0007/">ADR-0007: Root Key Lifecycle and Management Strategy</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0006/">ADR-0006: Trust Boundary Definition and Security Assumptions</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0005/">ADR-0005: Use SPIFFE mTLS for Inter-Component Authentication and Communication</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0004/">ADR-0004: SPIKE Keeper Minimalist Design Approach</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0003/">ADR-0003: Root Key Management and Storage Strategy</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0002/">ADR-0002: Use Docsify for Documentation System</a></li>
<li><a href="https://spike.ist/architecture/adrs/adr-0001/">ADR-0001: Display Secrets in Plain Text in SPIKE Pilot Admin CLI</a></li>
</ul>
<hr />
<ul>
<li><a href="https://spike.ist/architecture/system-overview/"><strong>SPIKE</strong> System Overview</a></li>
<li><a href="https://spike.ist/architecture/security-model/"><strong>SPIKE</strong> Security Model</a></li>
<li><a href="https://spike.ist/architecture/architectural-decision-records/"><strong>SPIKE</strong> Architectural Decision Records</a></li>
</ul>

    

        </div>
        <footer style="padding:1em;padding-top:1em;padding-bottom:1em;
font-size: 14px;
margin-top: 2em;
max-width: 550px;
margin: 2em auto;
" id="footer">

            Copyright ¬© 2024-present <strong>SPIKE Contributors</strong>.<br>
            <strong>SPIKE</strong>'s code
            is distributed under <a class="text-blue-600 underline" href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License (v2.0)</a>.
            <br>
            The documentation on this website
            is distributed under <a class="text-blue-600 underline" href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>.
            <br><br>
            We <strong>do not</strong> collect your data.
            This site <strong>does not</strong> use any tracking cookies or scripts.
        </footer>



    </article>

</main>


    <script type="text/javascript" src="https://spike.ist/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://spike.ist/search_index.en.js" defer></script>
<script type="text/javascript" src="https://spike.ist/js.js" defer></script>
</body>
</html>
